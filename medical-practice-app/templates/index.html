<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medical Practice Management - Enhanced</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="static/css/styles.css">
    <style>
        /* Tab content visibility */
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* Context menu */
        .context-menu {
            position: absolute;
            background: rgba(30, 41, 59, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(148, 163, 184, 0.2);
            border-radius: 8px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            display: none;
            min-width: 180px;
        }
        
        .context-menu-item {
            padding: 12px 16px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 12px;
            color: #e2e8f0;
            font-size: 14px;
            transition: all 0.2s ease;
        }
        
        .context-menu-item:hover {
            background: rgba(56, 189, 248, 0.1);
            color: #38bdf8;
        }
        
        .context-menu-item:first-child {
            border-radius: 8px 8px 0 0;
        }
        
        .context-menu-item:last-child {
            border-radius: 0 0 8px 8px;
        }
        
        .context-menu-divider {
            height: 1px;
            background: rgba(148, 163, 184, 0.1);
            margin: 4px 0;
        }
    </style>
</head>
<body>
    <!-- Login Screen -->
    <div id="login-screen" class="hidden">
        <div class="login-container">
            <div class="login-header">
                <h1>Medical Practice Admin</h1>
                <p>Secure Login</p>
            </div>
            
            <form id="login-form" class="login-form">
                <input type="text" id="username" class="form-input" placeholder="Username or Email" required>
                <input type="password" id="password" class="form-input" placeholder="Password" required>
                <button type="submit" id="login-btn" class="login-btn">Login</button>
                <div id="login-error" class="login-error hidden"></div>
            </form>
        </div>
    </div>

    <!-- Main Application -->
    <div id="main-app" class="fade-in">
        <!-- Header -->
        <header class="app-header">
            <h1 class="app-title">Medical Practice Management - Enhanced</h1>
            <div class="header-controls">
                <button id="theme-toggle" class="header-btn">
                    <span class="material-icons" id="theme-icon">light_mode</span>
                    <span id="theme-text">Light Theme</span>
                </button>
                <button id="user-menu-btn" class="header-btn user-btn">
                    <span class="material-icons">admin_panel_settings</span>
                    <span id="user-name">Admin</span>
                </button>
            </div>
        </header>

        <!-- Toolbar -->
        <div class="app-toolbar">
            <div class="toolbar-left">
                <button id="refresh-btn" class="toolbar-btn">
                    <span class="material-icons">refresh</span>
                    Refresh
                </button>
                <button id="new-doctor-btn" class="toolbar-btn">
                    <span class="material-icons">add</span>
                    New Doctor
                </button>
                <button id="export-btn" class="toolbar-btn secondary">
                    <span class="material-icons">upload_file</span>
                    Export
                </button>
            </div>
            <div class="search-container">
                <span class="material-icons search-icon">search</span>
                <input id="global-search" class="global-search" placeholder="Global search... (Ctrl+F)" type="text">
            </div>
        </div>

        <!-- Navigation Tabs -->
        <nav class="nav-tabs">
            <a href="#" data-tab="doctors" class="tab-link active">
                <span class="material-icons">person</span>
                Doctors
            </a>
            <a href="#" data-tab="laboratories" class="tab-link">
                <span class="material-icons">science</span>
                Laboratories
            </a>
            <a href="#" data-tab="pharmacies" class="tab-link">
                <span class="material-icons">local_pharmacy</span>
                Pharmacies
            </a>
            <a href="#" data-tab="subscriptions" class="tab-link">
                <span class="material-icons">subscriptions</span>
                Subscriptions
            </a>
            <a href="#" data-tab="dashboard" class="tab-link">
                <span class="material-icons">dashboard</span>
                Dashboard
            </a>
            <a href="#" data-tab="settings" class="tab-link">
                <span class="material-icons">settings</span>
                Settings
            </a>
        </nav>

        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Doctors Tab -->
            <div id="doctors-tab" class="tab-content active">
                <div class="content-card">
                    <div class="card-header">
                        <div class="control-group">
                            <div class="checkbox-container">
                                <input type="checkbox" id="select-all-doctors" class="checkbox">
                                <label for="select-all-doctors">Select All</label>
                            </div>
                            <button id="bulk-actions-btn" class="btn-small">Bulk Actions</button>
                        </div>
                        <div class="card-controls">
                            <div class="search-container">
                                <input id="doctors-search" class="search-input" placeholder="Search..." type="text">
                            </div>
                            <select id="doctors-search-field" class="select-input">
                                <option>All Fields</option>
                                <option>Name</option>
                                <option>Email</option>
                                <option>ID</option>
                                <option>Specialty</option>
                            </select>
                            <button id="doctors-search-btn" class="btn-small">Search</button>
                            <button id="doctors-clear-btn" class="btn-small secondary">Clear</button>
                        </div>
                    </div>
                    <div style="overflow-x: auto;">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th></th>
                                    <th>ID</th>
                                    <th>NAME</th>
                                    <th>EMAIL</th>
                                    <th>STATUS</th>
                                    <th>SPECIALTY</th>
                                    <th>PHONE</th>
                                    <th>PHARMACY</th>
                                    <th>LABORATORY</th>
                                    <th>SUBSCRIPTION</th>
                                    <th>DAYS LEFT</th>
                                </tr>
                            </thead>
                            <tbody id="doctors-table-body">
                                <!-- Table rows will be inserted here dynamically -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Laboratories Tab -->
            <div id="laboratories-tab" class="tab-content">
                <div class="content-card">
                    <div class="card-header">
                        <h2>Laboratories</h2>
                    </div>
                    <div style="overflow-x: auto;">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>NAME</th>
                                    <th>DOCTOR ID</th>
                                    <th>DOCTOR NAME</th>
                                    <th>STATUS</th>
                                    <th>ACCESS CODE</th>
                                    <th>CREATED</th>
                                </tr>
                            </thead>
                            <tbody id="labs-table-body">
                                <!-- Table rows will be inserted here dynamically -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Pharmacies Tab -->
            <div id="pharmacies-tab" class="tab-content">
                <div class="content-card">
                    <div class="card-header">
                        <h2>Pharmacies</h2>
                    </div>
                    <div style="overflow-x: auto;">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>NAME</th>
                                    <th>DOCTOR ID</th>
                                    <th>DOCTOR NAME</th>
                                    <th>STATUS</th>
                                    <th>ACCESS CODE</th>
                                    <th>CREATED</th>
                                </tr>
                            </thead>
                            <tbody id="pharmacies-table-body">
                                <!-- Table rows will be inserted here dynamically -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Subscriptions Tab -->
            <div id="subscriptions-tab" class="tab-content">
                <div class="content-card">
                    <div class="card-header">
                        <div class="control-group">
                            <button id="filter-all" class="btn-small">All</button>
                            <button id="filter-active" class="btn-small secondary">Active</button>
                            <button id="filter-expiring" class="btn-small secondary">Expiring Soon</button>
                            <button id="filter-expired" class="btn-small secondary">Expired</button>
                        </div>
                    </div>
                    <div style="overflow-x: auto;">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>NAME</th>
                                    <th>EMAIL</th>
                                    <th>START DATE</th>
                                    <th>END DATE</th>
                                    <th>DAYS LEFT</th>
                                    <th>STATUS</th>
                                </tr>
                            </thead>
                            <tbody id="subscriptions-table-body">
                                <!-- Table rows will be inserted here dynamically -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Dashboard Tab -->
            <div id="dashboard-tab" class="tab-content">
                <div class="stats-grid">
                    <!-- Stats Cards -->
                    <div class="stat-card primary">
                        <div class="stat-header">Total Doctors</div>
                        <div class="stat-value" id="total-doctors">0</div>
                        <div class="stat-label">Registered</div>
                    </div>
                    <div class="stat-card success">
                        <div class="stat-header">Active Subscriptions</div>
                        <div class="stat-value" id="active-subscriptions">0</div>
                        <div class="stat-label">Current</div>
                    </div>
                    <div class="stat-card warning">
                        <div class="stat-header">Expiring Soon</div>
                        <div class="stat-value" id="expiring-soon">0</div>
                        <div class="stat-label">Next 30 days</div>
                    </div>
                    <div class="stat-card danger">
                        <div class="stat-header">Expired</div>
                        <div class="stat-value" id="expired-subscriptions">0</div>
                        <div class="stat-label">Total</div>
                    </div>
                </div>
                
                <!-- Recent Activity -->
                <div class="content-card">
                    <div class="card-header">
                        <h2>Recent Activity</h2>
                    </div>
                    <div class="p-4">
                        <div id="activity-log">
                            <!-- Activity items will be inserted here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Settings Tab -->
            <div id="settings-tab" class="tab-content">
                <div class="content-card">
                    <div class="card-header">
                        <h2>Settings</h2>
                    </div>
                    <div class="p-4">
                        <!-- Account Settings -->
                        <div class="mb-4">
                            <h3 style="color: #e2e8f0; margin-bottom: 16px;">Account Settings</h3>
                            <button id="change-password-btn" class="toolbar-btn">
                                Change Password
                            </button>
                        </div>
                        
                        <!-- Export Settings -->
                        <div class="mb-4">
                            <h3 style="color: #e2e8f0; margin-bottom: 16px;">Data Management</h3>
                            <button id="export-all-btn" class="toolbar-btn" style="background: linear-gradient(135deg, #059669 0%, #10b981 100%);">
                                Export All Data
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="app-footer">
            <div class="footer-left">
                <div class="status-indicator connected">
                    <span class="material-icons" style="font-size: 16px;">wifi</span>
                    <span>Connected</span>
                </div>
            </div>
            <div class="footer-right">
                <span id="session-timer">Session: 30 min</span>
                <span id="record-count">0 records</span>
            </div>
        </footer>
    </div>

    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay hidden">
        <div class="loading-content">
            <div class="spinner"></div>
            <div class="loading-text" id="loading-text">Loading...</div>
        </div>
    </div>

    <!-- Context Menu -->
    <div id="context-menu" class="context-menu">
        <div class="context-menu-item" data-action="view">
            <span class="material-icons">visibility</span>
            View Details
        </div>
        <div class="context-menu-item" data-action="edit">
            <span class="material-icons">edit</span>
            Edit
        </div>
        <div class="context-menu-divider"></div>
        <div class="context-menu-item" data-action="reset-password">
            <span class="material-icons">key</span>
            Reset Password
        </div>
        <div class="context-menu-item" data-action="toggle-status">
            <span class="material-icons">toggle_on</span>
            Toggle Status
        </div>
        <div class="context-menu-divider"></div>
        <div class="context-menu-item" data-action="export">
            <span class="material-icons">download</span>
            Export
        </div>
    </div>

    <!-- Modals will be inserted dynamically -->
    <div id="modal-container"></div>

    <script src="static/js/app.js"></script>
</body>
</html>